Nginx setup
###########

Whereas Apache, Nginx doesn.t run any Python process, it only serve requests from outside to the Python server.

Therefore there are two steps:

-Run the python process
-Run Nginx

Python process
==============

As described in Getting_started_ part, Microbe comes a command to run the server. This time we will point to another port to use Nginx proxy module::

    $ microbe --ip 127.0.0.1 -- port 8000

Nginx
=====

Create a configuration file in ``/etc/nginx/sites-available/`` and name it ``microbe``.

The minimal configuration file to run the app is::

    server {
            listen 80;
            server_name www.yourwebsite.com

            location /static/ {
                root /path/to/microbe/microbe/static/;
            }

            location / {
                    proxy_pass http://127.0.0.1:8000;
            }
    }

You can make some adjustements to get a better user experience::

    server {
            listen 80;
            server_name www.yourwebsite.com
            
            location /static/ {
                    root /path/to/microbe/microbe/static/;
                    gzip  on;
                    gzip_http_version 1.0;
                    gzip_vary on;
                    gzip_comp_level 6;
                    gzip_proxied any;
                    gzip_types text/plain text/css application/json application/x-javascript text/xml application/xml application/xml+rss text/javascript;
                    gzip_buffers 16 8k;
                    # Disable gzip for certain browsers.
                    gzip_disable ~@~\MSIE [1-6].(?!.*SV1)~@~];
                    expires modified +90d;
            }

            location / {
                    proxy_pass 127.0.0.1:8000;
            }

    }

.. Links
.. _Getting_started : ./getting_started
